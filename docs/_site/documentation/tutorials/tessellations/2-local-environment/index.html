<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.20.2 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Map the environment - ML-LPA</title>
<meta name="description" content="Once the tessellation has been processed on the system and the instance of the Tessellation class generated, ML-LPA is ready to map the local environment of the lipids.  Local environment  Inside a membrane, a lipid A is always surrounded by N lipids Bi. Each of these Bi belongs to a specific phase Pi, which affects its properties and configuration. The distribution of the phases Pi describes the local environment of the lipid A.   Illustration of the local environment mapping and analysis   Depending on the distribution of Pi, the location of the lipid on the membrane can be determined:          If (almost) all Pi are equal to the same phase Pa, then the lipid is located inside the domain of the Pa           If the Pi are distributed (almost) equally between a phase Pa and another phase Pb, then the lipid is located at the frontier between the domains Pa and Pb.      If the total number of lipids in the membrane is large enough, and if the number of lipids in each phase is similar, the difference between the number of lipids found inside a domain and the number of lipids at a frontier can be an accurate description of the state of the phase separation in the membrane.  The mapping of the local environment can be done inside the same leaflet of the lipid A only, or by observing both leaflet at the same time and assuming that the phase on one leaflet is affecting the phase on the other leaflet. The choice between the two observation modes is done when selecting the _3d type of membrane (both leaflet) or not in the doVoro() function.  Run the mapping  The local environment analysis is simply run with the function readNeighbors(), which only takes the instance of the Tessellation class to process as argument.  import mllpa  mllpa.readNeighbors(tessellation)   In this example, the variable tessellation is an instance of the Tessellation class generated via the function doVoro(). Check the related tutorial for more details.  MLLPA will automatically save the results directly inside the instance of the Tessellation class, to be used or saved later. However, it outputs in the same time the total phase composition of each lipid. These values can be stored in variable, such as  neighbor_phases, states_list = mllpa.readNeighbors(tessellation)   neighbor_phases is a NumPy array of dimensions (# frames, # molecules, # phases). The last axis reads the number of neighbors found for each of the phases found in the system, e.g. [3, 0, 1] in a system with three phases. The respective name of the phases corresponding to each index of the list are returned in the variable states_list  What is next?          Now that the local environment has been mapped, the last step is to save all the results in a file.           You can also check how to analyse the local environment in a membrane in terms of molecule types and not of phases.      Check the API  The following elements have been used in this tutorial:     generateModel">


  <meta name="author" content="Vivien WALTER, PhD">
  
  <meta property="article:author" content="Vivien WALTER, PhD">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_GB">
<meta property="og:site_name" content="ML-LPA">
<meta property="og:title" content="Map the environment">
<meta property="og:url" content="http://localhost:4000/mllpa/documentation/tutorials/tessellations/2-local-environment/">


  <meta property="og:description" content="Once the tessellation has been processed on the system and the instance of the Tessellation class generated, ML-LPA is ready to map the local environment of the lipids.  Local environment  Inside a membrane, a lipid A is always surrounded by N lipids Bi. Each of these Bi belongs to a specific phase Pi, which affects its properties and configuration. The distribution of the phases Pi describes the local environment of the lipid A.   Illustration of the local environment mapping and analysis   Depending on the distribution of Pi, the location of the lipid on the membrane can be determined:          If (almost) all Pi are equal to the same phase Pa, then the lipid is located inside the domain of the Pa           If the Pi are distributed (almost) equally between a phase Pa and another phase Pb, then the lipid is located at the frontier between the domains Pa and Pb.      If the total number of lipids in the membrane is large enough, and if the number of lipids in each phase is similar, the difference between the number of lipids found inside a domain and the number of lipids at a frontier can be an accurate description of the state of the phase separation in the membrane.  The mapping of the local environment can be done inside the same leaflet of the lipid A only, or by observing both leaflet at the same time and assuming that the phase on one leaflet is affecting the phase on the other leaflet. The choice between the two observation modes is done when selecting the _3d type of membrane (both leaflet) or not in the doVoro() function.  Run the mapping  The local environment analysis is simply run with the function readNeighbors(), which only takes the instance of the Tessellation class to process as argument.  import mllpa  mllpa.readNeighbors(tessellation)   In this example, the variable tessellation is an instance of the Tessellation class generated via the function doVoro(). Check the related tutorial for more details.  MLLPA will automatically save the results directly inside the instance of the Tessellation class, to be used or saved later. However, it outputs in the same time the total phase composition of each lipid. These values can be stored in variable, such as  neighbor_phases, states_list = mllpa.readNeighbors(tessellation)   neighbor_phases is a NumPy array of dimensions (# frames, # molecules, # phases). The last axis reads the number of neighbors found for each of the phases found in the system, e.g. [3, 0, 1] in a system with three phases. The respective name of the phases corresponding to each index of the list are returned in the variable states_list  What is next?          Now that the local environment has been mapped, the last step is to save all the results in a file.           You can also check how to analyse the local environment in a membrane in terms of molecule types and not of phases.      Check the API  The following elements have been used in this tutorial:     generateModel">





  <meta name="twitter:site" content="@vwalter_rnk">
  <meta name="twitter:title" content="Map the environment">
  <meta name="twitter:description" content="Once the tessellation has been processed on the system and the instance of the Tessellation class generated, ML-LPA is ready to map the local environment of the lipids.  Local environment  Inside a membrane, a lipid A is always surrounded by N lipids Bi. Each of these Bi belongs to a specific phase Pi, which affects its properties and configuration. The distribution of the phases Pi describes the local environment of the lipid A.   Illustration of the local environment mapping and analysis   Depending on the distribution of Pi, the location of the lipid on the membrane can be determined:          If (almost) all Pi are equal to the same phase Pa, then the lipid is located inside the domain of the Pa           If the Pi are distributed (almost) equally between a phase Pa and another phase Pb, then the lipid is located at the frontier between the domains Pa and Pb.      If the total number of lipids in the membrane is large enough, and if the number of lipids in each phase is similar, the difference between the number of lipids found inside a domain and the number of lipids at a frontier can be an accurate description of the state of the phase separation in the membrane.  The mapping of the local environment can be done inside the same leaflet of the lipid A only, or by observing both leaflet at the same time and assuming that the phase on one leaflet is affecting the phase on the other leaflet. The choice between the two observation modes is done when selecting the _3d type of membrane (both leaflet) or not in the doVoro() function.  Run the mapping  The local environment analysis is simply run with the function readNeighbors(), which only takes the instance of the Tessellation class to process as argument.  import mllpa  mllpa.readNeighbors(tessellation)   In this example, the variable tessellation is an instance of the Tessellation class generated via the function doVoro(). Check the related tutorial for more details.  MLLPA will automatically save the results directly inside the instance of the Tessellation class, to be used or saved later. However, it outputs in the same time the total phase composition of each lipid. These values can be stored in variable, such as  neighbor_phases, states_list = mllpa.readNeighbors(tessellation)   neighbor_phases is a NumPy array of dimensions (# frames, # molecules, # phases). The last axis reads the number of neighbors found for each of the phases found in the system, e.g. [3, 0, 1] in a system with three phases. The respective name of the phases corresponding to each index of the list are returned in the variable states_list  What is next?          Now that the local environment has been mapped, the last step is to save all the results in a file.           You can also check how to analyse the local environment in a membrane in terms of molecule types and not of phases.      Check the API  The following elements have been used in this tutorial:     generateModel">
  <meta name="twitter:url" content="http://localhost:4000/mllpa/documentation/tutorials/tessellations/2-local-environment/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2020-09-20T12:26:40+01:00">





  

  


<link rel="canonical" href="http://localhost:4000/mllpa/documentation/tutorials/tessellations/2-local-environment/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "ML-LPA",
      "url": "http://localhost:4000/mllpa/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/mllpa/feed.xml" type="application/atom+xml" rel="alternate" title="ML-LPA Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/mllpa/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<link rel="apple-touch-icon" sizes="180x180" href="/mllpa/assets/images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/mllpa/assets/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/mllpa/assets/images/favicon-16x16.png">
<link rel="manifest" href="/mllpa/assets/images/site.webmanifest">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/mllpa/"><img src="/mllpa/assets/images/logo.png" alt=""></a>
        
        <a class="site-title" href="/mllpa/">
          ML-LPA
          <span class="site-subtitle">Machine-Learning assisted Lipid Phase Analysis</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/mllpa/install/">Installation</a>
            </li><li class="masthead__menu-item">
              <a href="/mllpa/documentation/">Documentation</a>
            </li><li class="masthead__menu-item">
              <a href="/mllpa/about-mllpa/">About ML-LPA</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items">
    
      <li>
        
          <a href="/mllpa/documentation/tutorials/quick-and-dirty/"><span class="nav__sub-title">Quick & Dirty tutorial</span></a>
        

        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Loading simulation</span>
        

        
        <ul>
          
            <li><a href="/mllpa/documentation/tutorials/loading-files/1-simulation-files/">Load from simulation files</a></li>
          
            <li><a href="/mllpa/documentation/tutorials/loading-files/2-positions/">Load from position array</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">The System class</span>
        

        
        <ul>
          
            <li><a href="/mllpa/documentation/tutorials/system-class/1-description/">Attributes of the System class</a></li>
          
            <li><a href="/mllpa/documentation/tutorials/system-class/2-methods/">Methods of the System class</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Predicting phases</span>
        

        
        <ul>
          
            <li><a href="/mllpa/documentation/tutorials/phase-prediction/1-training/">Machine Learning algorithms training</a></li>
          
            <li><a href="/mllpa/documentation/tutorials/phase-prediction/2-rank-optimisation/">Optimisation of the neighbour rank</a></li>
          
            <li><a href="/mllpa/documentation/tutorials/phase-prediction/3-ml-prediction/">Lipid phase prediction</a></li>
          
            <li><a href="/mllpa/documentation/tutorials/phase-prediction/4-set-phases/">Setting phases manually</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Local environment analysis</span>
        

        
        <ul>
          
            <li><a href="/mllpa/documentation/tutorials/tessellations/1-voronoi/">Voronoi tessellations</a></li>
          
            <li><a href="/mllpa/documentation/tutorials/tessellations/2-local-environment/" class="active">Map the environment</a></li>
          
            <li><a href="/mllpa/documentation/tutorials/tessellations/3-no-phases/">Analysis without phases</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Save the outputs</span>
        

        
        <ul>
          
            <li><a href="/mllpa/documentation/tutorials/outputs/1-model-file/">The .lpm model file</a></li>
          
            <li><a href="/mllpa/documentation/tutorials/outputs/2-save-system/">Save the System class</a></li>
          
            <li><a href="/mllpa/documentation/tutorials/outputs/3-save-voronoi/">Save the Tessellation class</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Map the environment">
    <meta itemprop="description" content="Once the tessellation has been processed on the system and the instance of the Tessellation class generated,ML-LPA is ready to map the local environment of the lipids.Local environmentInside a membrane, a lipid A is always surrounded by N lipids Bi. Each of these Bi belongs to a specific phase Pi,which affects its properties and configuration. The distribution of the phases Pi describes the local environment of the lipid A.Illustration of the local environment mapping and analysisDepending on the distribution of Pi, the location of the lipid on the membrane can be determined:      If (almost) all Pi are equal to the same phase Pa, then the lipid is located inside the domain of the Pa        If the Pi are distributed (almost) equally between a phase Pa and another phase Pb, then the lipid is located at the frontier between the domains Pa and Pb.  If the total number of lipids in the membrane is large enough, and if the number of lipids in each phase is similar,the difference between the number of lipids found inside a domain and the number of lipids at a frontiercan be an accurate description of the state of the phase separation in the membrane.The mapping of the local environment can be done inside the same leaflet of the lipid A only,or by observing both leaflet at the same time and assuming that the phase on one leaflet is affectingthe phase on the other leaflet. The choice between the two observation modes is donewhen selecting the _3d type of membrane (both leaflet) or not in the doVoro() function.Run the mappingThe local environment analysis is simply run with the function readNeighbors(), which only takes theinstance of the Tessellation class to process as argument.import mllpamllpa.readNeighbors(tessellation)In this example, the variable tessellation is an instance of the Tessellation class generated via thefunction doVoro(). Check the related tutorial for more details.MLLPA will automatically save the results directly inside the instance of the Tessellation class, to be used or saved later.However, it outputs in the same time the total phase composition of each lipid.These values can be stored in variable, such asneighbor_phases, states_list = mllpa.readNeighbors(tessellation)neighbor_phases is a NumPy array of dimensions (# frames, # molecules, # phases). The last axisreads the number of neighbors found for each of the phases found in the system, e.g. [3, 0, 1] in a system with three phases.The respective name of the phases corresponding to each index of the list are returned in the variable states_listWhat is next?      Now that the local environment has been mapped, the last step is tosave all the results in a file.        You can also check how to analyse the local environment in a membranein terms of molecule types and not of phases.  Check the APIThe following elements have been used in this tutorial:  generateModel">
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Map the environment
</h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
  <li><a href="#local-environment">Local environment</a></li>
  <li><a href="#run-the-mapping">Run the mapping</a></li>
  <li><a href="#what-is-next">What is next?</a></li>
  <li><a href="#check-the-api">Check the API</a></li>
</ul>

            </nav>
          </aside>
        
        <p>Once the tessellation has been processed on the system and the instance of the <strong>Tessellation</strong> class generated,
ML-LPA is ready to map the local environment of the lipids.</p>

<h2 id="local-environment">Local environment</h2>

<p>Inside a membrane, a lipid A is always surrounded by N lipids Bi. Each of these Bi belongs to a specific phase Pi,
which affects its <strong>properties and configuration</strong>. The distribution of the phases Pi describes the <strong>local environment</strong> of the lipid A.</p>

<center><img src="/mllpa/assets/images/tutorials/environment.png" width="200" height="200" /></center>
<center><sub>Illustration of the local environment mapping and analysis</sub></center>
<p><br /></p>

<p>Depending on the distribution of Pi, the location of the lipid on the membrane can be determined:</p>

<ul>
  <li>
    <p>If (almost) all Pi are equal to the same phase Pa, then the lipid is located <strong>inside the domain</strong> of the Pa</p>
  </li>
  <li>
    <p>If the Pi are distributed (almost) equally between a phase Pa and another phase Pb, then the lipid is located at the <strong>frontier between the domains</strong> Pa and Pb.</p>
  </li>
</ul>

<p>If the total number of lipids in the membrane is large enough, and if the number of lipids in each phase is similar,
the difference between the number of lipids found inside a domain and the number of lipids at a frontier
can be an accurate description of the <strong>state of the phase separation in the membrane</strong>.</p>

<p>The mapping of the local environment can be done <strong>inside the same leaflet</strong> of the lipid A only,
<strong>or by observing both leaflet</strong> at the same time and assuming that the phase on one leaflet is affecting
the phase on the other leaflet. The choice between the two observation modes is done
when selecting the <em>_3d</em> type of membrane (both leaflet) or not in the <a href="/mllpa/documentation/tutorials/tessellations/1-voronoi/#the-membrane-geometry">doVoro() function</a>.</p>

<h2 id="run-the-mapping">Run the mapping</h2>

<p>The local environment analysis is simply run with the function <em>readNeighbors()</em>, which only takes the
instance of the Tessellation class to process as argument.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">mllpa</span>

<span class="n">mllpa</span><span class="p">.</span><span class="n">readNeighbors</span><span class="p">(</span><span class="n">tessellation</span><span class="p">)</span>
</code></pre></div></div>

<p class="notice--info">In this example, the variable <em>tessellation</em> is an instance of the Tessellation class generated via the
function <em>doVoro()</em>. Check the <a href="/mllpa/documentation/tutorials/tessellations/1-voronoi/">related tutorial</a> for more details.</p>

<p>MLLPA will automatically save the results directly inside the instance of the Tessellation class, to be used or saved later.
However, it outputs in the same time the <strong>total phase composition of each lipid</strong>.
These values can be stored in variable, such as</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">neighbor_phases</span><span class="p">,</span> <span class="n">states_list</span> <span class="o">=</span> <span class="n">mllpa</span><span class="p">.</span><span class="n">readNeighbors</span><span class="p">(</span><span class="n">tessellation</span><span class="p">)</span>
</code></pre></div></div>

<p><em>neighbor_phases</em> is a NumPy array of dimensions <code class="language-plaintext highlighter-rouge">(# frames, # molecules, # phases)</code>. The last axis
reads the number of neighbors found for each of the phases found in the system, e.g. <code class="language-plaintext highlighter-rouge">[3, 0, 1]</code> in a system with three phases.
The respective name of the phases corresponding to each index of the list are returned in the variable <em>states_list</em></p>

<h2 id="what-is-next">What is next?</h2>

<ul>
  <li>
    <p>Now that the local environment has been mapped, the last step is to
<a href="">save all the results</a> in a file.</p>
  </li>
  <li>
    <p>You can also check how to analyse the local environment in a membrane
<a href="">in terms of molecule types</a> and not of phases.</p>
  </li>
</ul>

<h2 id="check-the-api">Check the API</h2>

<p>The following elements have been used in this tutorial:</p>

<ul>
  <li>generateModel</li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/mllpa/tags/#neighbors" class="page__taxonomy-item" rel="tag">neighbors</a><span class="sep">, </span>
    
      
      
      <a href="/mllpa/tags/#tessellations" class="page__taxonomy-item" rel="tag">tessellations</a><span class="sep">, </span>
    
      
      
      <a href="/mllpa/tags/#voronoi" class="page__taxonomy-item" rel="tag">voronoi</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/mllpa/categories/#tutorial" class="page__taxonomy-item" rel="tag">tutorial</a>
    
    </span>
  </p>


        

      </footer>

      

      
  <nav class="pagination">
    
      <a href="/mllpa/documentation/tutorials/tessellations/1-voronoi/" class="pagination--pager" title="Voronoi tessellations
">Previous</a>
    
    
      <a href="/mllpa/documentation/tutorials/tessellations/3-no-phases/" class="pagination--pager" title="Analysis without phases
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <!--Disable the FOLLOW icons in the footer
<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    <li><a href="/mllpa/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>

  </ul>
</div>
-->

<div class="page__footer-copyright">&copy; 2020 ML-LPA. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/mllpa/assets/js/main.min.js"></script>










  </body>
</html>
