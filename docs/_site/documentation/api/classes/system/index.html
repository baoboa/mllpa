<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.20.2 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>System - ML-LPA</title>
<meta name="description" content="Description  The System class is a class used to store all the information on the atoms belonging to a specific molecule type and required to process Machine Learning training and predictions in ML-LPA.  Attributes and Methods  Initialisation  Instances of the System class can be generated in ML-LPA via two functions:          openSystem()           systemFromPositions()      It is recommended to use these functions to generate the instances of the class. However, if one wants to generate it by calling the class, the following data are required:          The name of the molecule type, as listed by the getTypes() function.           The array of positions of the atom in the correct dimensions, as extracted by the extractPositions() function.           The dictionary of information of the molecule type, as extracted by the getMolInfos() function.           The array of dimensions of the simulation box over time, in the correct dimensions, as extracted by the extractPositions() function.      Attributes                 Name       Type        Description                       system.type       str       Name of the molecule type stored in the instance.                  system.positions       np.ndarray       Positions of all the atoms of each molecules collected.                 system.boxes       np.ndarray       Dimensions of the simulation box.                 system.infos       dict       Dictionary containing all relevant informations on the molecules (e.g. atom masses, bonds).                 system.coordinates       np.ndarray        Coordinates of the atoms of each molecule, after centering the molecule on their centers of mass and rotation.                 system.distances       np.ndarray        Distances between atoms pairs, pairs are set to a given neighbor rank.                 system.rank       int       Rank used for the distance calculation.                 system.phases       np.ndarray       Phases of each molecules in the system.           Methods                 Name       Argument(s)        Description                       system.getCoordinates()       &lt;ul&gt;&lt;li&gt;up=, {bool}, (Opt.) Make sure the molecule is always pointing “up”. Default is True.&lt;/li&gt;&lt;/ul&gt;       Compute the coordinate set based on the atom positions of the system. The results are directly stored in the instance.                 system.getDistances()       &lt;ul&gt;&lt;li&gt;rank=, {int}, (Opt.) Rank for the distance calculation. Default is 6.&lt;/li&gt;&lt;/ul&gt;       Calculate the distance between atom pairs based on the atom positions of the system and the neighbor rank. The results are directly stored in the instance.                 system.getPhases()       &lt;ul&gt;&lt;li&gt;models, {str or dict of models}, Path to the model files or dictionary of the models to use to predict the states.&lt;/li&gt;&lt;/ul&gt;       Predict the phases of all the molecules in the system using the provided models. Return the array of phases.                 system.setPhases()       &lt;ul&gt;&lt;li&gt;phases, {str or np.ndarray}, Phases to apply to the molecules of the system.&lt;/li&gt;&lt;/ul&gt;       Set manually the phases of all the molecules in the system using the provided models. Return the array of phases.                 system.save()       &lt;ul&gt;&lt;li&gt;file_path, {str}, Path and name of the file to generate.&lt;/li&gt;&lt;li&gt;format, {str}, File extension and format to use for the output file.&lt;/li&gt;&lt;/ul&gt;       Save the instance of the System class in a file.           The .save() method uses the same argument and generates the same files than the saveSystems() function.  Examples  Initialise an instance of the class  The following example will initialise an instance of the System class, named here loaded_system, from the given molecule type DPPC, the position array atom_positions, the dictionary of type information mol_infos, and the array of dimensions of the simulation boxes, simulation_boxes.  from mllpa.system_class import System  loaded_system = System(&quot;DPPC&quot;, position_array, mol_infos, simulation_boxes)   Convert the positions into coordinates  The following example will convert the position array inside the instance of the System class loaded_system into the array of coordinates directly stored in the instance.  loaded_system.getCoordinates()   Convert the positions into distances  The following example will convert the position array inside the instance of the System class loaded_system into the array of distances directly stored in the instance. The conversion will use a neighbor rank equals to 6.  loaded_system.getDistances(rank=6)   Prediction with a model file  The following example will use the model file new_model.lpm to predict the phase of loaded_system, an instance of the System class. The output will be stored in the attributes of the instance.  loaded_system.getPhases(&quot;./new_model.lpm&quot;)   Prediction with a model dictionary  The following example will use the models stored in the variable models to predict the phase of loaded_system, an instance of the System class. The output will be stored in the instance.  loaded_system.getPhases(models)   Assigning a single phase  The following example will assign the phase name fluid to all molecules of loaded_system, an instance of the System class. The output will be stored in the attributes of the instance.  loaded_system.setPhases(&quot;fluid&quot;)   Assigning a phase array  The following example will assign the array of phases phase_array to loaded_system, an instance of the System class. The output will be stored in the instance of the System class.  loaded_system.setPhases(phase_array)   ### Save the instance in a file  The following example will save the content of the instance of the System class loaded_system in a file test_file.xml  loaded_system.save(file_path=&#39;test_file.xml&#39;)   Related functions  The following function(s) uses the System class either in their input our output:          Common functions                      openSystem()                       generateModel()                       getPhases()                       setPhases()                       saveSystems()                       doVoro()                       Advanced functions             systemFromPositions()           Related tutorials  The following tutorial(s) detail further the use of the System class:          Load from simulation files           Load from position array           Attributes of the System class           Methods of the System class           Machine Learning algorithms training           Optimisation of the neighbour rank           Lipid phase prediction           Setting phases manually           Voronoi tessellation           Save the System class">


  <meta name="author" content="Vivien WALTER, PhD">
  
  <meta property="article:author" content="Vivien WALTER, PhD">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_GB">
<meta property="og:site_name" content="ML-LPA">
<meta property="og:title" content="System">
<meta property="og:url" content="http://localhost:4000/mllpa/documentation/api/classes/system/">


  <meta property="og:description" content="Description  The System class is a class used to store all the information on the atoms belonging to a specific molecule type and required to process Machine Learning training and predictions in ML-LPA.  Attributes and Methods  Initialisation  Instances of the System class can be generated in ML-LPA via two functions:          openSystem()           systemFromPositions()      It is recommended to use these functions to generate the instances of the class. However, if one wants to generate it by calling the class, the following data are required:          The name of the molecule type, as listed by the getTypes() function.           The array of positions of the atom in the correct dimensions, as extracted by the extractPositions() function.           The dictionary of information of the molecule type, as extracted by the getMolInfos() function.           The array of dimensions of the simulation box over time, in the correct dimensions, as extracted by the extractPositions() function.      Attributes                 Name       Type        Description                       system.type       str       Name of the molecule type stored in the instance.                  system.positions       np.ndarray       Positions of all the atoms of each molecules collected.                 system.boxes       np.ndarray       Dimensions of the simulation box.                 system.infos       dict       Dictionary containing all relevant informations on the molecules (e.g. atom masses, bonds).                 system.coordinates       np.ndarray        Coordinates of the atoms of each molecule, after centering the molecule on their centers of mass and rotation.                 system.distances       np.ndarray        Distances between atoms pairs, pairs are set to a given neighbor rank.                 system.rank       int       Rank used for the distance calculation.                 system.phases       np.ndarray       Phases of each molecules in the system.           Methods                 Name       Argument(s)        Description                       system.getCoordinates()       &lt;ul&gt;&lt;li&gt;up=, {bool}, (Opt.) Make sure the molecule is always pointing “up”. Default is True.&lt;/li&gt;&lt;/ul&gt;       Compute the coordinate set based on the atom positions of the system. The results are directly stored in the instance.                 system.getDistances()       &lt;ul&gt;&lt;li&gt;rank=, {int}, (Opt.) Rank for the distance calculation. Default is 6.&lt;/li&gt;&lt;/ul&gt;       Calculate the distance between atom pairs based on the atom positions of the system and the neighbor rank. The results are directly stored in the instance.                 system.getPhases()       &lt;ul&gt;&lt;li&gt;models, {str or dict of models}, Path to the model files or dictionary of the models to use to predict the states.&lt;/li&gt;&lt;/ul&gt;       Predict the phases of all the molecules in the system using the provided models. Return the array of phases.                 system.setPhases()       &lt;ul&gt;&lt;li&gt;phases, {str or np.ndarray}, Phases to apply to the molecules of the system.&lt;/li&gt;&lt;/ul&gt;       Set manually the phases of all the molecules in the system using the provided models. Return the array of phases.                 system.save()       &lt;ul&gt;&lt;li&gt;file_path, {str}, Path and name of the file to generate.&lt;/li&gt;&lt;li&gt;format, {str}, File extension and format to use for the output file.&lt;/li&gt;&lt;/ul&gt;       Save the instance of the System class in a file.           The .save() method uses the same argument and generates the same files than the saveSystems() function.  Examples  Initialise an instance of the class  The following example will initialise an instance of the System class, named here loaded_system, from the given molecule type DPPC, the position array atom_positions, the dictionary of type information mol_infos, and the array of dimensions of the simulation boxes, simulation_boxes.  from mllpa.system_class import System  loaded_system = System(&quot;DPPC&quot;, position_array, mol_infos, simulation_boxes)   Convert the positions into coordinates  The following example will convert the position array inside the instance of the System class loaded_system into the array of coordinates directly stored in the instance.  loaded_system.getCoordinates()   Convert the positions into distances  The following example will convert the position array inside the instance of the System class loaded_system into the array of distances directly stored in the instance. The conversion will use a neighbor rank equals to 6.  loaded_system.getDistances(rank=6)   Prediction with a model file  The following example will use the model file new_model.lpm to predict the phase of loaded_system, an instance of the System class. The output will be stored in the attributes of the instance.  loaded_system.getPhases(&quot;./new_model.lpm&quot;)   Prediction with a model dictionary  The following example will use the models stored in the variable models to predict the phase of loaded_system, an instance of the System class. The output will be stored in the instance.  loaded_system.getPhases(models)   Assigning a single phase  The following example will assign the phase name fluid to all molecules of loaded_system, an instance of the System class. The output will be stored in the attributes of the instance.  loaded_system.setPhases(&quot;fluid&quot;)   Assigning a phase array  The following example will assign the array of phases phase_array to loaded_system, an instance of the System class. The output will be stored in the instance of the System class.  loaded_system.setPhases(phase_array)   ### Save the instance in a file  The following example will save the content of the instance of the System class loaded_system in a file test_file.xml  loaded_system.save(file_path=&#39;test_file.xml&#39;)   Related functions  The following function(s) uses the System class either in their input our output:          Common functions                      openSystem()                       generateModel()                       getPhases()                       setPhases()                       saveSystems()                       doVoro()                       Advanced functions             systemFromPositions()           Related tutorials  The following tutorial(s) detail further the use of the System class:          Load from simulation files           Load from position array           Attributes of the System class           Methods of the System class           Machine Learning algorithms training           Optimisation of the neighbour rank           Lipid phase prediction           Setting phases manually           Voronoi tessellation           Save the System class">





  <meta name="twitter:site" content="@vwalter_rnk">
  <meta name="twitter:title" content="System">
  <meta name="twitter:description" content="Description  The System class is a class used to store all the information on the atoms belonging to a specific molecule type and required to process Machine Learning training and predictions in ML-LPA.  Attributes and Methods  Initialisation  Instances of the System class can be generated in ML-LPA via two functions:          openSystem()           systemFromPositions()      It is recommended to use these functions to generate the instances of the class. However, if one wants to generate it by calling the class, the following data are required:          The name of the molecule type, as listed by the getTypes() function.           The array of positions of the atom in the correct dimensions, as extracted by the extractPositions() function.           The dictionary of information of the molecule type, as extracted by the getMolInfos() function.           The array of dimensions of the simulation box over time, in the correct dimensions, as extracted by the extractPositions() function.      Attributes                 Name       Type        Description                       system.type       str       Name of the molecule type stored in the instance.                  system.positions       np.ndarray       Positions of all the atoms of each molecules collected.                 system.boxes       np.ndarray       Dimensions of the simulation box.                 system.infos       dict       Dictionary containing all relevant informations on the molecules (e.g. atom masses, bonds).                 system.coordinates       np.ndarray        Coordinates of the atoms of each molecule, after centering the molecule on their centers of mass and rotation.                 system.distances       np.ndarray        Distances between atoms pairs, pairs are set to a given neighbor rank.                 system.rank       int       Rank used for the distance calculation.                 system.phases       np.ndarray       Phases of each molecules in the system.           Methods                 Name       Argument(s)        Description                       system.getCoordinates()       &lt;ul&gt;&lt;li&gt;up=, {bool}, (Opt.) Make sure the molecule is always pointing “up”. Default is True.&lt;/li&gt;&lt;/ul&gt;       Compute the coordinate set based on the atom positions of the system. The results are directly stored in the instance.                 system.getDistances()       &lt;ul&gt;&lt;li&gt;rank=, {int}, (Opt.) Rank for the distance calculation. Default is 6.&lt;/li&gt;&lt;/ul&gt;       Calculate the distance between atom pairs based on the atom positions of the system and the neighbor rank. The results are directly stored in the instance.                 system.getPhases()       &lt;ul&gt;&lt;li&gt;models, {str or dict of models}, Path to the model files or dictionary of the models to use to predict the states.&lt;/li&gt;&lt;/ul&gt;       Predict the phases of all the molecules in the system using the provided models. Return the array of phases.                 system.setPhases()       &lt;ul&gt;&lt;li&gt;phases, {str or np.ndarray}, Phases to apply to the molecules of the system.&lt;/li&gt;&lt;/ul&gt;       Set manually the phases of all the molecules in the system using the provided models. Return the array of phases.                 system.save()       &lt;ul&gt;&lt;li&gt;file_path, {str}, Path and name of the file to generate.&lt;/li&gt;&lt;li&gt;format, {str}, File extension and format to use for the output file.&lt;/li&gt;&lt;/ul&gt;       Save the instance of the System class in a file.           The .save() method uses the same argument and generates the same files than the saveSystems() function.  Examples  Initialise an instance of the class  The following example will initialise an instance of the System class, named here loaded_system, from the given molecule type DPPC, the position array atom_positions, the dictionary of type information mol_infos, and the array of dimensions of the simulation boxes, simulation_boxes.  from mllpa.system_class import System  loaded_system = System(&quot;DPPC&quot;, position_array, mol_infos, simulation_boxes)   Convert the positions into coordinates  The following example will convert the position array inside the instance of the System class loaded_system into the array of coordinates directly stored in the instance.  loaded_system.getCoordinates()   Convert the positions into distances  The following example will convert the position array inside the instance of the System class loaded_system into the array of distances directly stored in the instance. The conversion will use a neighbor rank equals to 6.  loaded_system.getDistances(rank=6)   Prediction with a model file  The following example will use the model file new_model.lpm to predict the phase of loaded_system, an instance of the System class. The output will be stored in the attributes of the instance.  loaded_system.getPhases(&quot;./new_model.lpm&quot;)   Prediction with a model dictionary  The following example will use the models stored in the variable models to predict the phase of loaded_system, an instance of the System class. The output will be stored in the instance.  loaded_system.getPhases(models)   Assigning a single phase  The following example will assign the phase name fluid to all molecules of loaded_system, an instance of the System class. The output will be stored in the attributes of the instance.  loaded_system.setPhases(&quot;fluid&quot;)   Assigning a phase array  The following example will assign the array of phases phase_array to loaded_system, an instance of the System class. The output will be stored in the instance of the System class.  loaded_system.setPhases(phase_array)   ### Save the instance in a file  The following example will save the content of the instance of the System class loaded_system in a file test_file.xml  loaded_system.save(file_path=&#39;test_file.xml&#39;)   Related functions  The following function(s) uses the System class either in their input our output:          Common functions                      openSystem()                       generateModel()                       getPhases()                       setPhases()                       saveSystems()                       doVoro()                       Advanced functions             systemFromPositions()           Related tutorials  The following tutorial(s) detail further the use of the System class:          Load from simulation files           Load from position array           Attributes of the System class           Methods of the System class           Machine Learning algorithms training           Optimisation of the neighbour rank           Lipid phase prediction           Setting phases manually           Voronoi tessellation           Save the System class">
  <meta name="twitter:url" content="http://localhost:4000/mllpa/documentation/api/classes/system/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2020-09-21T19:28:22+01:00">





  

  


<link rel="canonical" href="http://localhost:4000/mllpa/documentation/api/classes/system/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "ML-LPA",
      "url": "http://localhost:4000/mllpa/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/mllpa/feed.xml" type="application/atom+xml" rel="alternate" title="ML-LPA Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/mllpa/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<link rel="apple-touch-icon" sizes="180x180" href="/mllpa/assets/images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/mllpa/assets/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/mllpa/assets/images/favicon-16x16.png">
<link rel="manifest" href="/mllpa/assets/images/site.webmanifest">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/mllpa/"><img src="/mllpa/assets/images/logo.png" alt=""></a>
        
        <a class="site-title" href="/mllpa/">
          ML-LPA
          <span class="site-subtitle">Machine-Learning assisted Lipid Phase Analysis</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/mllpa/install/">Installation</a>
            </li><li class="masthead__menu-item">
              <a href="/mllpa/documentation/">Documentation</a>
            </li><li class="masthead__menu-item">
              <a href="/mllpa/about-mllpa/">About ML-LPA</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Common functions</span>
        

        
        <ul>
          
            <li><a href="/mllpa/documentation/api/common/dovoro/">doVoro()</a></li>
          
            <li><a href="/mllpa/documentation/api/common/generatemodel/">generateModel()</a></li>
          
            <li><a href="/mllpa/documentation/api/common/getphases/">getPhases()</a></li>
          
            <li><a href="/mllpa/documentation/api/common/opensystem/">openSystem()</a></li>
          
            <li><a href="/mllpa/documentation/api/common/savesystems/">saveSystems()</a></li>
          
            <li><a href="/mllpa/documentation/api/common/savevoro/">saveVoro()</a></li>
          
            <li><a href="/mllpa/documentation/api/common/setphases/">setPhases()</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Advanced functions</span>
        

        
        <ul>
          
            <li><a href="/mllpa/documentation/api/advanced/assignleaflets/">assignLeaflets()</a></li>
          
            <li><a href="/mllpa/documentation/api/advanced/extractpositions/">extractPositions()</a></li>
          
            <li><a href="/mllpa/documentation/api/advanced/getcoordinates/">getCoordinates()</a></li>
          
            <li><a href="/mllpa/documentation/api/advanced/getdistances/">getDistances()</a></li>
          
            <li><a href="/mllpa/documentation/api/advanced/getmolinfos/">getMolInfos()</a></li>
          
            <li><a href="/mllpa/documentation/api/advanced/gettypes/">getTypes()</a></li>
          
            <li><a href="/mllpa/documentation/api/advanced/loadmodels/">loadModels()</a></li>
          
            <li><a href="/mllpa/documentation/api/advanced/predictphases/">predictPhases()</a></li>
          
            <li><a href="/mllpa/documentation/api/advanced/readmodelfile/">readModelFile()</a></li>
          
            <li><a href="/mllpa/documentation/api/advanced/readneighbors/">readNeighbors()</a></li>
          
            <li><a href="/mllpa/documentation/api/advanced/summonghosts/">summonGhosts()</a></li>
          
            <li><a href="/mllpa/documentation/api/advanced/systemfrompositions/">systemFromPositions()</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Classes</span>
        

        
        <ul>
          
            <li><a href="/mllpa/documentation/api/classes/system/" class="active">System</a></li>
          
            <li><a href="/mllpa/documentation/api/classes/tessellation/">Tessellation</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="System">
    <meta itemprop="description" content="DescriptionThe System class is a class used to store all the information on the atoms belonging to a specificmolecule type and required to process Machine Learning training and predictions in ML-LPA.Attributes and MethodsInitialisationInstances of the System class can be generated in ML-LPA via two functions:      openSystem()        systemFromPositions()  It is recommended to use these functions to generate the instances of the class. However, ifone wants to generate it by calling the class, the following data are required:      The name of the molecule type, as listed by the getTypes() function.        The array of positions of the atom in the correct dimensions, as extractedby the extractPositions() function.        The dictionary of information of the molecule type, as extracted by thegetMolInfos() function.        The array of dimensions of the simulation box over time, in the correct dimensions, as extractedby the extractPositions() function.  Attributes            Name      Type       Description                  system.type      str      Name of the molecule type stored in the instance.               system.positions      np.ndarray      Positions of all the atoms of each molecules collected.              system.boxes      np.ndarray      Dimensions of the simulation box.              system.infos      dict      Dictionary containing all relevant informations on the molecules (e.g. atom masses, bonds).              system.coordinates      np.ndarray       Coordinates of the atoms of each molecule, after centering the molecule on their centers of mass and rotation.              system.distances      np.ndarray       Distances between atoms pairs, pairs are set to a given neighbor rank.              system.rank      int      Rank used for the distance calculation.              system.phases      np.ndarray      Phases of each molecules in the system.      Methods            Name      Argument(s)       Description                  system.getCoordinates()      &lt;ul&gt;&lt;li&gt;up=, {bool}, (Opt.) Make sure the molecule is always pointing “up”. Default is True.&lt;/li&gt;&lt;/ul&gt;      Compute the coordinate set based on the atom positions of the system. The results are directly stored in the instance.              system.getDistances()      &lt;ul&gt;&lt;li&gt;rank=, {int}, (Opt.) Rank for the distance calculation. Default is 6.&lt;/li&gt;&lt;/ul&gt;      Calculate the distance between atom pairs based on the atom positions of the system and the neighbor rank. The results are directly stored in the instance.              system.getPhases()      &lt;ul&gt;&lt;li&gt;models, {str or dict of models}, Path to the model files or dictionary of the models to use to predict the states.&lt;/li&gt;&lt;/ul&gt;      Predict the phases of all the molecules in the system using the provided models. Return the array of phases.              system.setPhases()      &lt;ul&gt;&lt;li&gt;phases, {str or np.ndarray}, Phases to apply to the molecules of the system.&lt;/li&gt;&lt;/ul&gt;      Set manually the phases of all the molecules in the system using the provided models. Return the array of phases.              system.save()      &lt;ul&gt;&lt;li&gt;file_path, {str}, Path and name of the file to generate.&lt;/li&gt;&lt;li&gt;format, {str}, File extension and format to use for the output file.&lt;/li&gt;&lt;/ul&gt;      Save the instance of the System class in a file.      The .save() method uses the same argument and generates the same files than the saveSystems() function.ExamplesInitialise an instance of the classThe following example will initialise an instance of the System class, named here loaded_system,from the given molecule type DPPC, the position array atom_positions, the dictionary of type informationmol_infos, and the array of dimensions of the simulation boxes, simulation_boxes.from mllpa.system_class import Systemloaded_system = System(&quot;DPPC&quot;, position_array, mol_infos, simulation_boxes)Convert the positions into coordinatesThe following example will convert the position array inside the instance of the System class loaded_systeminto the array of coordinates directly stored in the instance.loaded_system.getCoordinates()Convert the positions into distancesThe following example will convert the position array inside the instance of the System class loaded_systeminto the array of distances directly stored in the instance. The conversion will use a neighbor rank equals to 6.loaded_system.getDistances(rank=6)Prediction with a model fileThe following example will use the model file new_model.lpm to predict the phase of loaded_system,an instance of the System class. The output will be stored in the attributes of the instance.loaded_system.getPhases(&quot;./new_model.lpm&quot;)Prediction with a model dictionaryThe following example will use the models stored in the variable models to predict the phase of loaded_system,an instance of the System class. The output will be stored in the instance.loaded_system.getPhases(models)Assigning a single phaseThe following example will assign the phase name fluid to all molecules of loaded_system,an instance of the System class. The output will be stored in the attributes of the instance.loaded_system.setPhases(&quot;fluid&quot;)Assigning a phase arrayThe following example will assign the array of phases phase_array to loaded_system,an instance of the System class. The output will be stored in the instance of the System class.loaded_system.setPhases(phase_array)### Save the instance in a fileThe following example will save the content of the instance of the System class loaded_systemin a file test_file.xmlloaded_system.save(file_path=&#39;test_file.xml&#39;)Related functionsThe following function(s) uses the System class either in their input our output:      Common functions                  openSystem()                    generateModel()                    getPhases()                    setPhases()                    saveSystems()                    doVoro()                  Advanced functions          systemFromPositions()      Related tutorialsThe following tutorial(s) detail further the use of the System class:      Load from simulation files        Load from position array        Attributes of the System class        Methods of the System class        Machine Learning algorithms training        Optimisation of the neighbour rank        Lipid phase prediction        Setting phases manually        Voronoi tessellation        Save the System class  ">
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">System
</h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
  <li><a href="#description">Description</a></li>
  <li><a href="#attributes-and-methods">Attributes and Methods</a>
    <ul>
      <li><a href="#initialisation">Initialisation</a></li>
      <li><a href="#attributes">Attributes</a></li>
      <li><a href="#methods">Methods</a></li>
    </ul>
  </li>
  <li><a href="#examples">Examples</a>
    <ul>
      <li><a href="#initialise-an-instance-of-the-class">Initialise an instance of the class</a></li>
      <li><a href="#convert-the-positions-into-coordinates">Convert the positions into coordinates</a></li>
      <li><a href="#convert-the-positions-into-distances">Convert the positions into distances</a></li>
      <li><a href="#prediction-with-a-model-file">Prediction with a model file</a></li>
      <li><a href="#prediction-with-a-model-dictionary">Prediction with a model dictionary</a></li>
      <li><a href="#assigning-a-single-phase">Assigning a single phase</a></li>
      <li><a href="#assigning-a-phase-array">Assigning a phase array</a></li>
    </ul>
  </li>
  <li><a href="#related-functions">Related functions</a></li>
  <li><a href="#related-tutorials">Related tutorials</a></li>
</ul>

            </nav>
          </aside>
        
        <h2 id="description">Description</h2>

<p>The System class is a class used to store all the information on the atoms belonging to a specific
molecule type and required to process Machine Learning training and predictions in ML-LPA.</p>

<h2 id="attributes-and-methods">Attributes and Methods</h2>

<h3 id="initialisation">Initialisation</h3>

<p>Instances of the System class can be generated in ML-LPA via two functions:</p>

<ul>
  <li>
    <p><a href="/mllpa/documentation/api/common/opensystem/">openSystem()</a></p>
  </li>
  <li>
    <p><a href="/mllpa/documentation/api/advanced/systemfrompositions/">systemFromPositions()</a></p>
  </li>
</ul>

<p>It is recommended to use these functions to generate the instances of the class. However, if
one wants to generate it by calling the class, the following data are required:</p>

<ol>
  <li>
    <p>The <strong>name</strong> of the molecule type, as listed by the <a href="/mllpa/documentation/api/advanced/gettypes/">getTypes()</a> function.</p>
  </li>
  <li>
    <p>The <strong>array of positions</strong> of the atom in the correct dimensions, as extracted
by the <a href="/mllpa/documentation/api/advanced/extractpositions/">extractPositions()</a> function.</p>
  </li>
  <li>
    <p>The <strong>dictionary of information</strong> of the molecule type, as extracted by the
<a href="/mllpa/documentation/api/advanced/getmolinfos/">getMolInfos()</a> function.</p>
  </li>
  <li>
    <p>The <strong>array of dimensions</strong> of the simulation box over time, in the correct dimensions, as extracted
by the <a href="/mllpa/documentation/api/advanced/extractpositions/">extractPositions()</a> function.</p>
  </li>
</ol>

<h3 id="attributes">Attributes</h3>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th> Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>system.type</strong></td>
      <td>str</td>
      <td>Name of the molecule type stored in the instance. </td>
    </tr>
    <tr>
      <td><strong>system.positions</strong></td>
      <td>np.ndarray</td>
      <td>Positions of all the atoms of each molecules collected.</td>
    </tr>
    <tr>
      <td><strong>system.boxes</strong></td>
      <td>np.ndarray</td>
      <td>Dimensions of the simulation box.</td>
    </tr>
    <tr>
      <td><strong>system.infos</strong></td>
      <td>dict</td>
      <td>Dictionary containing all relevant informations on the molecules (e.g. atom masses, bonds).</td>
    </tr>
    <tr>
      <td><strong>system.coordinates</strong></td>
      <td>np.ndarray </td>
      <td>Coordinates of the atoms of each molecule, after centering the molecule on their centers of mass and rotation.</td>
    </tr>
    <tr>
      <td><strong>system.distances</strong></td>
      <td>np.ndarray</td>
      <td> Distances between atoms pairs, pairs are set to a given neighbor rank.</td>
    </tr>
    <tr>
      <td><strong>system.rank</strong></td>
      <td>int</td>
      <td>Rank used for the distance calculation.</td>
    </tr>
    <tr>
      <td><strong>system.phases</strong></td>
      <td>np.ndarray</td>
      <td>Phases of each molecules in the system.</td>
    </tr>
  </tbody>
</table>

<h3 id="methods">Methods</h3>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Argument(s)</th>
      <th> Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>system.getCoordinates()</strong></td>
      <td>&lt;ul&gt;&lt;li&gt;up=, {bool}, (Opt.) Make sure the molecule is always pointing “up”. Default is True.&lt;/li&gt;&lt;/ul&gt;</td>
      <td>Compute the coordinate set based on the atom positions of the system. The results are directly stored in the instance.</td>
    </tr>
    <tr>
      <td><strong>system.getDistances()</strong></td>
      <td>&lt;ul&gt;&lt;li&gt;rank=, {int}, (Opt.) Rank for the distance calculation. Default is 6.&lt;/li&gt;&lt;/ul&gt;</td>
      <td>Calculate the distance between atom pairs based on the atom positions of the system and the neighbor rank. The results are directly stored in the instance.</td>
    </tr>
    <tr>
      <td><strong>system.getPhases()</strong></td>
      <td>&lt;ul&gt;&lt;li&gt;models, {str or dict of models}, Path to the model files or dictionary of the models to use to predict the states.&lt;/li&gt;&lt;/ul&gt;</td>
      <td>Predict the phases of all the molecules in the system using the provided models. Return the array of phases.</td>
    </tr>
    <tr>
      <td><strong>system.setPhases()</strong></td>
      <td>&lt;ul&gt;&lt;li&gt;phases, {str or np.ndarray}, Phases to apply to the molecules of the system.&lt;/li&gt;&lt;/ul&gt;</td>
      <td>Set manually the phases of all the molecules in the system using the provided models. Return the array of phases.</td>
    </tr>
    <tr>
      <td><strong>system.save()</strong></td>
      <td>&lt;ul&gt;&lt;li&gt;file_path, {str}, Path and name of the file to generate.&lt;/li&gt;&lt;li&gt;format, {str}, File extension and format to use for the output file.&lt;/li&gt;&lt;/ul&gt;</td>
      <td>Save the instance of the System class in a file.</td>
    </tr>
  </tbody>
</table>

<p class="notice--info">The <em>.save()</em> method uses the same argument and generates the same files than the <a href="/mllpa/documentation/api/common/savesystems/">saveSystems()</a> function.</p>

<h2 id="examples">Examples</h2>

<h3 id="initialise-an-instance-of-the-class">Initialise an instance of the class</h3>

<p>The following example will initialise an instance of the System class, named here <em>loaded_system</em>,
from the given molecule type <em>DPPC</em>, the position array <em>atom_positions</em>, the dictionary of type information
<em>mol_infos</em>, and the array of dimensions of the simulation boxes, <em>simulation_boxes</em>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">mllpa.system_class</span> <span class="kn">import</span> <span class="n">System</span>

<span class="n">loaded_system</span> <span class="o">=</span> <span class="n">System</span><span class="p">(</span><span class="s">"DPPC"</span><span class="p">,</span> <span class="n">position_array</span><span class="p">,</span> <span class="n">mol_infos</span><span class="p">,</span> <span class="n">simulation_boxes</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="convert-the-positions-into-coordinates">Convert the positions into coordinates</h3>

<p>The following example will convert the position array inside the instance of the System class <em>loaded_system</em>
into the array of coordinates directly stored in the instance.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">loaded_system</span><span class="p">.</span><span class="n">getCoordinates</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="convert-the-positions-into-distances">Convert the positions into distances</h3>

<p>The following example will convert the position array inside the instance of the System class <em>loaded_system</em>
into the array of distances directly stored in the instance. The conversion will use a neighbor rank equals to 6.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">loaded_system</span><span class="p">.</span><span class="n">getDistances</span><span class="p">(</span><span class="n">rank</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="prediction-with-a-model-file">Prediction with a model file</h3>

<p>The following example will use the model file <em>new_model.lpm</em> to predict the phase of <em>loaded_system</em>,
an instance of the System class. The output will be stored in the attributes of the instance.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">loaded_system</span><span class="p">.</span><span class="n">getPhases</span><span class="p">(</span><span class="s">"./new_model.lpm"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="prediction-with-a-model-dictionary">Prediction with a model dictionary</h3>

<p>The following example will use the models stored in the variable <em>models</em> to predict the phase of <em>loaded_system</em>,
an instance of the System class. The output will be stored in the instance.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">loaded_system</span><span class="p">.</span><span class="n">getPhases</span><span class="p">(</span><span class="n">models</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="assigning-a-single-phase">Assigning a single phase</h3>

<p>The following example will assign the phase name <em>fluid</em> to all molecules of <em>loaded_system</em>,
an instance of the System class. The output will be stored in the attributes of the instance.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">loaded_system</span><span class="p">.</span><span class="n">setPhases</span><span class="p">(</span><span class="s">"fluid"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="assigning-a-phase-array">Assigning a phase array</h3>

<p>The following example will assign the array of phases <em>phase_array</em> to <em>loaded_system</em>,
an instance of the System class. The output will be stored in the instance of the System class.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">loaded_system</span><span class="p">.</span><span class="n">setPhases</span><span class="p">(</span><span class="n">phase_array</span><span class="p">)</span>
</code></pre></div></div>

<p>### Save the instance in a file</p>

<p>The following example will save the content of the instance of the System class <em>loaded_system</em>
in a file <em>test_file.xml</em></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">loaded_system</span><span class="p">.</span><span class="n">save</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="s">'test_file.xml'</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="related-functions">Related functions</h2>

<p>The following function(s) uses the System class either in their input our output:</p>

<ul>
  <li>
    <p><strong>Common functions</strong></p>

    <ul>
      <li>
        <p><a href="/mllpa/documentation/api/common/opensystem/">openSystem()</a></p>
      </li>
      <li>
        <p><a href="/mllpa/documentation/api/common/generatemodel/">generateModel()</a></p>
      </li>
      <li>
        <p><a href="/mllpa/documentation/api/common/getphases/">getPhases()</a></p>
      </li>
      <li>
        <p><a href="/mllpa/documentation/api/common/setphases/">setPhases()</a></p>
      </li>
      <li>
        <p><a href="/mllpa/documentation/api/common/savesystems/">saveSystems()</a></p>
      </li>
      <li>
        <p><a href="/mllpa/documentation/api/common/dovoro/">doVoro()</a></p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>Advanced functions</strong></p>

    <ul>
      <li><a href="/mllpa/documentation/api/advanced/systemfrompositions/">systemFromPositions()</a></li>
    </ul>
  </li>
</ul>

<h2 id="related-tutorials">Related tutorials</h2>

<p>The following tutorial(s) detail further the use of the System class:</p>

<ul>
  <li>
    <p><a href="/mllpa/documentation/tutorials/loading-files/1-simulation-files/">Load from simulation files</a></p>
  </li>
  <li>
    <p><a href="/mllpa/documentation/tutorials/loading-files/2-positions/">Load from position array</a></p>
  </li>
  <li>
    <p><a href="/mllpa/documentation/tutorials/system-class/1-description/">Attributes of the System class</a></p>
  </li>
  <li>
    <p><a href="/mllpa/documentation/tutorials/system-class/2-methods/">Methods of the System class</a></p>
  </li>
  <li>
    <p><a href="/mllpa/documentation/tutorials/phase-prediction/1-training/">Machine Learning algorithms training</a></p>
  </li>
  <li>
    <p><a href="/mllpa/documentation/tutorials/phase-prediction/2-rank-optimisation/">Optimisation of the neighbour rank</a></p>
  </li>
  <li>
    <p><a href="/mllpa/documentation/tutorials/phase-prediction/3-ml-prediction/">Lipid phase prediction</a></p>
  </li>
  <li>
    <p><a href="/mllpa/documentation/tutorials/phase-prediction/4-set-phases/">Setting phases manually</a></p>
  </li>
  <li>
    <p><a href="/mllpa/documentation/tutorials/tessellations/1-voronoi/">Voronoi tessellation</a></p>
  </li>
  <li>
    <p><a href="/mllpa/documentation/tutorials/outputs/2-save-system/">Save the System class</a></p>
  </li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/mllpa/tags/#training" class="page__taxonomy-item" rel="tag">training</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/mllpa/categories/#api" class="page__taxonomy-item" rel="tag">api</a>
    
    </span>
  </p>


        

      </footer>

      

      
  <nav class="pagination">
    
      <a href="/mllpa/documentation/api/advanced/systemfrompositions/" class="pagination--pager" title="systemFromPositions()
">Previous</a>
    
    
      <a href="/mllpa/documentation/api/classes/tessellation/" class="pagination--pager" title="Tessellation
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <!--Disable the FOLLOW icons in the footer
<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    <li><a href="/mllpa/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>

  </ul>
</div>
-->

<div class="page__footer-copyright">&copy; 2020 ML-LPA. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/mllpa/assets/js/main.min.js"></script>










  </body>
</html>
